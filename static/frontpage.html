<%
# (c) Copyright Cameron Conn 2015
# Licensed AGPLv3 or Later
# See `LICENSE` for details
title = 'Home'
include(header)
%>

<h1 class="center">Spigot Monitor</h1>
<div class="box">
% if len(players) == 0:
	No players online :-(<br />
% else:
%   if len(players) == 1:
	1 Player Online:<br />
%   else:
    {{len(players)}} Players Online:<br />
%   end  # (if)
%
%     for num, player in enumerate(sorted(players)):
%         if num == len(players) - 1 and len(players) > 1:
and <a href="/player/{{player}}"><img src="https://minotar.net/avatar/{{player}}/14"> {{player}}</a>.<br />
%         elif len(players) == 1:
Just <a href="/player/{{player}}"><img src="https://minotar.net/avatar/{{player}}/14"> {{player}}</a>.<br />
%         else:
<a href="/player/{{player}}"><img src="https://minotar.net/avatar/{{player}}/14"> {{player}}</a>, \\
%         end  # (if)
%     end  # (for)
% end  # (if)
</div>

<div id="scrollback-div">
	<hr>
	<p>Spigot Output:</p>
	<div id="scrollback">
		<code id="scrollback-text">
% for line in scrollback:
{{line}}<br />
% end  # (for)
		</code>
	</div>
	<div id="msg-num">{{last_msg}}</div>
</div>
<form id="commands" action="/" method="post">
	<input id="commandbox" placeholder="Enter a command!" type="text" name="command" />
</form>

<script type="text/javascript" src="/static/frontpage.js"></script>

<%
include(footer)
%>
